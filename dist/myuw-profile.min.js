!(function(){"use strict";function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function e(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function t(n){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function o(n,e){return(o=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function i(n,e,t){return(i=(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}})()?Reflect.construct:function(n,e,t){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(n,i));return t&&o(r,t.prototype),r}).apply(null,arguments)}function r(n){var e="function"==typeof Map?new Map:void 0;return(r=function(n){if(null===n||(r=n,-1===Function.toString.call(r).indexOf("[native code]")))return n;var r;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return i(n,arguments,t(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o(a,n)})(n)}function a(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var l=(function(n){function i(){var n,e,o;return(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),e=this,o=t(i).call(this),(n=!o||"object"!=typeof o&&"function"!=typeof o?a(e):o).attachShadow({mode:"open"}),n.shadowRoot.appendChild(n.constructor.template.content.cloneNode(!0)),n.$login=n.shadowRoot.getElementById("myuw-profile-login"),n.$logout=n.shadowRoot.getElementById("myuw-profile-logout"),n.$button=n.shadowRoot.getElementById("myuw-profile-circle"),n.$circle=n.shadowRoot.getElementById("myuw-profile-circle-initial"),n.$nav=n.shadowRoot.getElementById("myuw-profile-nav"),n.$displayName=n.shadowRoot.getElementById("myuw-profile-nav-user"),n.$wrapper=n.shadowRoot.getElementById("myuw-profile-wrapper"),n.eventListeners=[{target:document,type:"myuw-login",handler:function(e){return n.handleLogin(e)}},{target:n.$button,type:"click",handler:function(e){return n.handleButtonClick(e)}},{target:n.$nav,type:"click",handler:function(e){return n.handleNavClick(e)}},{target:a(n),type:"keydown",handler:function(e){return n.handleKeydown(e)}},{target:window,type:"click",handler:function(e){return n.handleWindowClick(e)}}],n}return(function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&o(n,e)})(i,r(HTMLElement)),e(i,null,[{key:"elementName",get:function(){return"myuw-profile"}},{key:"observedAttributes",get:function(){return["login-url","logout-url","background-color"]}},{key:"template",get:function(){return void 0===this._template&&(this._template=document.createElement("template"),this._template.innerHTML='<style> @import url(https://fonts.googleapis.com/icon?family=Material+Icons);\n\n  #myuw-profile-login {\n    font-family: var( --myuw-profile-font, var(--myuw-font, \'Montserrat\', \'Roboto\', Arial, sans-serif) );\n    text-transform: uppercase;\n    text-decoration: none;\n    color: var( --myuw-profile-login-color, var(--myuw-primary-color, white) );\n    padding: 10px 13px;\n    font-weight: var(--myuw-profile-font-weight, 600);\n    letter-spacing: 0px;\n    font-size: 14px;\n    position: relative;\n    display: inline-block;\n    transition: background .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n\n  #myuw-profile-circle {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    align-self: center;\n    outline: none;\n    border-radius: 50%;\n    height: 42px;\n    width: 42px;\n    min-width: initial;\n    text-transform: uppercase;\n    text-align: center;\n    background: transparent;\n    border-color: transparent;\n    transition: background .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n\n  #myuw-profile-circle:hover,\n  #myuw-profile-login:hover {\n    cursor: pointer;\n    background: rgba(0,0,0,0.12);\n  }\n\n  #myuw-profile-circle-initial {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    align-self: center;\n    padding: 0;\n    margin: 0;\n    font-weight: var(--myuw-profile-font-weight, 300);\n    font-size: 18px;\n    font-family: var( --myuw-profile-font, var(--myuw-font, \'Roboto\', Arial, sans-serif) );\n    background-color: var( --myuw-profile-background-color, #fb686d);\n    user-select: none;\n    color: white;\n    text-transform: capitalize;\n    border-radius: 50%;\n    margin: 0;\n    overflow: hidden;\n    position: relative;\n    height: 34px;\n    width: 34px;\n    min-width: 34px;\n    font-size: 18px;\n  }\n\n  #myuw-profile-wrapper {\n    position: relative;\n    display: inline-block;\n    margin: 0 6px;\n  }\n\n  #myuw-profile-nav {\n    position: absolute;\n    top: 45px;\n    right: 0;\n    min-width: 320px;\n    color: black;\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    font-size: 14px;\n    z-index: 101;\n    -webkit-box-shadow: 0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12);\n    -moz-box-shadow:    0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12);\n    box-shadow:         0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12);\n    transform: scale(1);\n    opacity: 1;\n    visibility: visible;\n  }\n\n  #myuw-profile-nav[hidden] {\n    display: unset !important;\n    transform-origin: top right;\n    transform: scale(0);\n    opacity: 0;\n    visibility: hidden;\n    transition: visibility 0s, opacity .25s cubic-bezier(0.0, 0.0, 0.2, 1), transform .25s cubic-bezier(0.0, 0.0, 0.2, 1);\n  }\n\n  #myuw-profile-nav p {\n    padding: 0;\n    margin: 0;\n  }\n\n  ::slotted(a),\n  ::slotted(p) {\n    transition: all .3s ease;\n    position: relative;\n    font-size: 15px;\n    font-family: var( --myuw-profile-font, var(--myuw-font, \'Montserrat\', \'Roboto\', Arial, sans-serif) );\n    padding: 3px 16px;\n    color: var(--myuw-menu-color, rgba(0,0,0,0.87));\n    text-decoration: none;\n    background-color: #f5f5f5;\n    border-bottom: 1px solid #e5e5e5;\n    user-select: none;\n    outline: none;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n    flex-direction: row;\n    min-height: 48px;\n    height: 48px;\n    -webkit-align-content: center;\n    align-content: center;\n    -webkit-align-items: center;\n    align-items: center;\n    -webkit-box-pack: start;\n    -webkit-justify-content: flex-start;\n    justify-content: flex-start;\n  }\n\n  /*\n     Styles need to be duplicated separate from ::slotted in order for\n     Firefox to do it\'s job\n   */\n  #myuw-profile-nav a,\n  #myuw-profile-nav p {\n    transition: all .3s ease;\n    position: relative;\n    font-size: 15px;\n    font-family: var( --myuw-profile-font, var(--myuw-font, \'Montserrat\', \'Roboto\', Arial, sans-serif) );\n    padding: 3px 16px;\n    color: var(--myuw-menu-color, rgba(0,0,0,0.87));\n    text-decoration: none;\n    background-color: #f5f5f5;\n    border-bottom: 1px solid #e5e5e5;\n    user-select: none;\n    outline: none;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n    flex-direction: row;\n    min-height: 48px;\n    height: 48px;\n    -webkit-align-content: center;\n    align-content: center;\n    -webkit-align-items: center;\n    align-items: center;\n    -webkit-box-pack: start;\n    -webkit-justify-content: flex-start;\n    justify-content: flex-start;\n  }\n\n  #myuw-profile-nav #myuw-profile-nav-user {\n    font-weight: 600;\n    text-transform: capitalize;\n    background-color: rgb(255,255,255);\n    border-bottom: none;\n  }\n\n  #myuw-profile-nav #myuw-profile-nav-user:hover {\n    background-color: rgb(255,255,255);\n  }\n\n  ::slotted(a:hover),\n  ::slotted(a:focus),\n  ::slotted(p:hover),\n  ::slotted(p:focus)  {\n    background-color: #ececec;\n  }\n\n  #myuw-profile-nav a:hover,\n  #myuw-profile-nav a:focus,\n  #myuw-profile-nav p:hover,\n  #myuw-profile-nav p:focus {\n    background-color: #ececec;\n  }\n\n  /* Don\'t let `display` styles override hidden attribute */\n  [hidden] {\n    display: none !important;\n  } </style> <a href="#" id="myuw-profile-login" hidden>Login</a> <div id="myuw-profile-wrapper" hidden> <button id="myuw-profile-circle" aria-label="profile menu" aria-haspopup="true" aria-controls="myuw-profile-nav" aria-expanded="false"> <p id="myuw-profile-circle-initial"><i class="material-icons">person</i></p> </button> <ul id="myuw-profile-nav" role="menu" tabindex="-1" aria-labelledby="myuw-profile-circle" hidden> <p id="myuw-profile-nav-user"></p> <li role="menuitem"> <slot name="nav-item"></slot> </li> <li> <a id="myuw-profile-logout" href="#" role="menuitem">Logout</a> </li> </ul> </div> '),this._template}}]),e(i,[{key:"attributeChangedCallback",value:function(n,e,t){switch(n){case"login-url":this.$login.setAttribute("href",t);break;case"logout-url":this.$logout.setAttribute("href",t);break;case"background-color":this.$circle.style.backgroundColor=t}}},{key:"connectedCallback",value:function(){this.eventListeners.forEach(function(n){var e=n.target,t=n.type,o=n.handler;return e.addEventListener(t,o)})}},{key:"disconnectedCallback",value:function(){this.eventListeners.forEach(function(n){var e=n.target,t=n.type,o=n.handler;return e.removeEventListener(t,o)})}},{key:"handleButtonClick",value:function(n){n.stopPropagation(),this.toggleMenu()}},{key:"handleKeydown",value:function(n){switch(n.key){default:return;case"Escape":this.closeMenu()}n.stopPropagation()}},{key:"handleLogin",value:function(n){if(n&&n.detail&&n.detail.person){var e=n.detail.person;if(!e.firstName)return this.$displayName.hidden=!0,this.$circle.innerHTML='<i class="material-icons">person</i>',void this.showProfileBubble();this.$displayName.textContent=e.firstName,this.$displayName.hidden=!1,this.$circle.textContent=e.firstName.substring(0,1),this.showProfileBubble()}else this.showLoginButton()}},{key:"handleNavClick",value:function(n){n.stopPropagation()}},{key:"handleWindowClick",value:function(n){this.closeMenu()}},{key:"openMenu",value:function(){this.$nav.hidden=!1,this.$nav.focus(),this.$button.setAttribute("aria-expanded","true")}},{key:"closeMenu",value:function(){this.$nav.hidden=!0,this.$nav.blur(),this.$button.setAttribute("aria-expanded","false")}},{key:"toggleMenu",value:function(){this.$nav.hidden?this.openMenu():this.closeMenu()}},{key:"showLoginButton",value:function(){this.$login.hidden=!1,this.$wrapper.hidden=!0}},{key:"showProfileBubble",value:function(){this.$login.hidden=!0,this.$wrapper.hidden=!1}}]),i})();void 0===customElements.get(l.elementName)&&customElements.define(l.elementName,l)})();
